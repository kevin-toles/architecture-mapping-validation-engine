{"record_type":"meta","schema_version":"1.0.0","generated_by":"frontend_driver_v1","created_at":"2025-11-29T23:58:17.873Z"}
{"record_type":"component","component_id":"node_macbookpro_lan","component_kind":"InfraNode","provider":"local","hostname":"MacBookPro.lan","platform":"Darwin","platform_version":"Darwin Kernel Version 24.4.0: Fri Apr 11 18:33:47 PDT 2025; root:xnu-11417.101.15~117/RELEASE_ARM64_T6000","python_version":"3.13.7","cwd":"/Users/kevintoles/POC/llm-document-enhancer","user":"kevintoles","environment":"development"}
{"record_type":"component","component_id":"svc_pdf_converter","component_kind":"Service","name":"PDF to JSON Converter","description":"Converts PDF documents to structured JSON with chapter segmentation","owner_team":"document-processing","inputs":["entity_pdf_document"],"outputs":["entity_json_text","entity_chapter_segments"]}
{"record_type":"component","component_id":"svc_metadata_extractor","component_kind":"Service","name":"Metadata Extraction Service","description":"Extracts keywords, concepts, and summaries using YAKE and Summa","owner_team":"nlp-platform","inputs":["entity_json_text","entity_chapter_segments"],"outputs":["entity_book_metadata"]}
{"record_type":"component","component_id":"svc_taxonomy_builder","component_kind":"Service","name":"Taxonomy Builder Service","description":"Builds hierarchical taxonomy from extracted metadata","owner_team":"knowledge-graph","inputs":["entity_book_metadata"],"outputs":["entity_taxonomy"]}
{"record_type":"component","component_id":"svc_metadata_enricher","component_kind":"Service","name":"Metadata Enrichment Service","description":"Enriches metadata with cross-book references using TF-IDF similarity","owner_team":"nlp-platform","inputs":["entity_book_metadata","entity_taxonomy"],"outputs":["entity_enriched_metadata"]}
{"record_type":"component","component_id":"svc_guideline_generator","component_kind":"Service","name":"Guideline Generator Service","description":"Generates base guidelines from enriched metadata","owner_team":"content-generation","inputs":["entity_enriched_metadata"],"outputs":["entity_base_guideline"]}
{"record_type":"component","component_id":"svc_llm_enhancer","component_kind":"Service","name":"LLM Enhancement Service","description":"Enhances guidelines using multiple LLM providers","owner_team":"llm-platform","inputs":["entity_base_guideline"],"outputs":["entity_enhanced_guideline"]}
{"record_type":"component","component_id":"svc_statistical_extractor","component_kind":"Service","name":"Statistical Extractor Adapter","description":"Adapts YAKE and Summa libraries for keyword/concept extraction","owner_team":"nlp-platform","inputs":["entity_chapter_text"],"outputs":["entity_keywords","entity_concepts"]}
{"record_type":"component","component_id":"ep_pdf_upload","component_kind":"Endpoint","name":"PDF Upload Endpoint","description":"Accepts PDF file uploads for processing","service_id":"svc_pdf_converter","protocol":"http","method":"POST","path":"/api/v1/documents/upload","consumes":["entity_pdf_document"],"produces":["entity_json_text"]}
{"record_type":"component","component_id":"ep_extract_metadata","component_kind":"Endpoint","name":"Metadata Extraction Endpoint","description":"Triggers metadata extraction for a document","service_id":"svc_metadata_extractor","protocol":"http","method":"POST","path":"/api/v1/metadata/extract","consumes":["entity_json_text"],"produces":["entity_book_metadata"]}
{"record_type":"component","component_id":"ep_enrich_metadata","component_kind":"Endpoint","name":"Metadata Enrichment Endpoint","description":"Triggers cross-book enrichment","service_id":"svc_metadata_enricher","protocol":"http","method":"POST","path":"/api/v1/metadata/enrich","consumes":["entity_book_metadata","entity_taxonomy"],"produces":["entity_enriched_metadata"]}
{"record_type":"component","component_id":"ep_generate_guideline","component_kind":"Endpoint","name":"Guideline Generation Endpoint","description":"Generates base guideline from enriched metadata","service_id":"svc_guideline_generator","protocol":"http","method":"POST","path":"/api/v1/guidelines/generate","consumes":["entity_enriched_metadata"],"produces":["entity_base_guideline"]}
{"record_type":"component","component_id":"ep_enhance_guideline","component_kind":"Endpoint","name":"LLM Enhancement Endpoint","description":"Enhances guideline using LLMs","service_id":"svc_llm_enhancer","protocol":"http","method":"POST","path":"/api/v1/guidelines/enhance","consumes":["entity_base_guideline"],"produces":["entity_enhanced_guideline"]}
{"record_type":"component","component_id":"db_document_store","component_kind":"Database","name":"Document Store","description":"Stores PDF documents and JSON text outputs","engine":"filesystem"}
{"record_type":"component","component_id":"db_metadata_store","component_kind":"Database","name":"Metadata Store","description":"Stores extracted metadata JSON files","engine":"filesystem"}
{"record_type":"component","component_id":"db_taxonomy_store","component_kind":"Database","name":"Taxonomy Store","description":"Stores taxonomy JSON files","engine":"filesystem"}
{"record_type":"component","component_id":"db_guideline_store","component_kind":"Database","name":"Guideline Store","description":"Stores generated guideline documents","engine":"filesystem"}
{"record_type":"component","component_id":"db_llm_cache","component_kind":"Database","name":"LLM Response Cache","description":"Caches LLM API responses","engine":"filesystem"}
{"record_type":"component","component_id":"ext_openai_api","component_kind":"ExternalSystem","name":"OpenAI API","description":"GPT-4o LLM provider","contact_type":"http","base_url":"https://api.openai.com"}
{"record_type":"component","component_id":"ext_anthropic_api","component_kind":"ExternalSystem","name":"Anthropic API","description":"Claude LLM provider","contact_type":"http","base_url":"https://api.anthropic.com"}
{"record_type":"component","component_id":"ext_gemini_api","component_kind":"ExternalSystem","name":"Google Gemini API","description":"Gemini LLM provider","contact_type":"http","base_url":"https://generativelanguage.googleapis.com"}
{"record_type":"component","component_id":"ext_deepseek_api","component_kind":"ExternalSystem","name":"DeepSeek API","description":"DeepSeek LLM provider","contact_type":"http","base_url":"https://api.deepseek.com"}
{"record_type":"relationship","from_id":"svc_pdf_converter","to_id":"ep_pdf_upload","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_metadata_extractor","to_id":"ep_extract_metadata","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_metadata_enricher","to_id":"ep_enrich_metadata","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_guideline_generator","to_id":"ep_generate_guideline","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ep_enhance_guideline","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_pdf_converter","to_id":"db_document_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_metadata_extractor","to_id":"db_metadata_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_taxonomy_builder","to_id":"db_taxonomy_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_guideline_generator","to_id":"db_guideline_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"db_llm_cache","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_metadata_extractor","to_id":"db_document_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_metadata_enricher","to_id":"db_metadata_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_metadata_enricher","to_id":"db_taxonomy_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_guideline_generator","to_id":"db_metadata_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"db_llm_cache","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_openai_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_anthropic_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_gemini_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_deepseek_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"entity_definition","entity_id":"entity_pdf_document","name":"PDF Document","description":"Source PDF file for processing","states":["uploaded","processing","converted","failed"],"primary_key":"document_id"}
{"record_type":"entity_definition","entity_id":"entity_json_text","name":"JSON Text","description":"Extracted text from PDF in JSON format","states":["pending","extracted","validated"],"primary_key":"json_id"}
{"record_type":"entity_definition","entity_id":"entity_chapter_segments","name":"Chapter Segments","description":"Identified chapter boundaries with page ranges","states":["detected","validated"],"primary_key":"segment_id"}
{"record_type":"entity_definition","entity_id":"entity_book_metadata","name":"Book Metadata","description":"Extracted keywords, concepts, summaries per chapter","states":["pending","extracted","validated"],"primary_key":"metadata_id"}
{"record_type":"entity_definition","entity_id":"entity_taxonomy","name":"Taxonomy","description":"Hierarchical classification of topics and concepts","states":["pending","built","validated"],"primary_key":"taxonomy_id"}
{"record_type":"entity_definition","entity_id":"entity_enriched_metadata","name":"Enriched Metadata","description":"Metadata with cross-book references and topic clusters","states":["pending","enriched","validated"],"primary_key":"enriched_id"}
{"record_type":"entity_definition","entity_id":"entity_base_guideline","name":"Base Guideline","description":"Generated guideline document before LLM enhancement","states":["pending","generated","validated"],"primary_key":"guideline_id"}
{"record_type":"entity_definition","entity_id":"entity_enhanced_guideline","name":"Enhanced Guideline","description":"LLM-enhanced guideline document","states":["pending","enhanced","validated","failed"],"primary_key":"enhanced_id"}
{"record_type":"entity_definition","entity_id":"entity_aggregate","name":"Evaluation Aggregate","description":"Aggregated extraction metrics for LLM evaluation","states":["pending","created","validated"],"primary_key":"aggregate_id"}
{"record_type":"process_definition","process_id":"proc_document_ingestion","name":"Document Ingestion","description":"Ingest PDF document and convert to structured JSON","trigger_type":"user_action","trigger_source":"frontend_app","success_criteria":"JSON text created with chapter segments","failure_criteria":"PDF conversion fails or no chapters detected"}
{"record_type":"process_definition","process_id":"proc_metadata_extraction","name":"Metadata Extraction","description":"Extract keywords, concepts, summaries from document","trigger_type":"internal_event","trigger_source":"document_ingestion","success_criteria":"Metadata JSON created with keywords and concepts","failure_criteria":"Extraction produces empty results"}
{"record_type":"process_definition","process_id":"proc_taxonomy_building","name":"Taxonomy Building","description":"Build hierarchical taxonomy from metadata","trigger_type":"internal_event","trigger_source":"metadata_extraction","success_criteria":"Taxonomy JSON with valid tier structure","failure_criteria":"Taxonomy generation fails"}
{"record_type":"process_definition","process_id":"proc_enrichment","name":"Metadata Enrichment","description":"Enrich metadata with cross-book references","trigger_type":"internal_event","trigger_source":"taxonomy_building","success_criteria":"Enriched metadata with related chapters","failure_criteria":"Enrichment produces no cross-references"}
{"record_type":"process_definition","process_id":"proc_guideline_generation","name":"Guideline Generation","description":"Full pipeline from metadata to enhanced guideline","trigger_type":"user_action","trigger_source":"frontend_app","success_criteria":"Enhanced guideline document created","failure_criteria":"Any pipeline step fails"}
{"record_type":"process_definition","process_id":"proc_extraction_evaluation","name":"Extraction Evaluation","description":"Run 4-profile extraction test with LLM evaluation","trigger_type":"user_action","trigger_source":"observability_runner","success_criteria":"All 4 aggregates created and LLMs evaluate","failure_criteria":"Profile extraction fails or LLM calls error"}
{"record_type":"scenario_start","trace_id":"trc_1617aabf7d704e2c","scenario_id":"scenario_extraction_evaluation","scenario_name":"Extraction Profile Evaluation","total_steps":9,"timestamp":"2025-11-30T01:08:58.378Z"}
{"record_type":"step_start","trace_id":"trc_1617aabf7d704e2c","step_id":"step_apply_baseline_config","step_name":"Apply Baseline Configuration","order":1,"timestamp":"2025-11-30T01:08:58.379Z"}
{"record_type":"step_end","trace_id":"trc_1617aabf7d704e2c","step_id":"step_apply_baseline_config","status":"success","latency_ms":0.6458759307861328,"timestamp":"2025-11-30T01:08:58.379Z"}
{"record_type":"step_start","trace_id":"trc_1617aabf7d704e2c","step_id":"step_run_baseline_extraction","step_name":"Run Baseline Extraction","order":2,"timestamp":"2025-11-30T01:08:58.380Z"}
{"record_type":"step_end","trace_id":"trc_1617aabf7d704e2c","step_id":"step_run_baseline_extraction","status":"success","latency_ms":0.15616416931152344,"timestamp":"2025-11-30T01:08:58.380Z"}
{"record_type":"step_start","trace_id":"trc_1617aabf7d704e2c","step_id":"step_apply_current_config","step_name":"Apply Current Configuration","order":3,"timestamp":"2025-11-30T01:08:58.380Z"}
{"record_type":"step_end","trace_id":"trc_1617aabf7d704e2c","step_id":"step_apply_current_config","status":"success","latency_ms":0.31113624572753906,"timestamp":"2025-11-30T01:08:58.380Z"}
{"record_type":"step_start","trace_id":"trc_1617aabf7d704e2c","step_id":"step_run_current_extraction","step_name":"Run Current Extraction","order":4,"timestamp":"2025-11-30T01:08:58.380Z"}
{"record_type":"step_end","trace_id":"trc_1617aabf7d704e2c","step_id":"step_run_current_extraction","status":"success","latency_ms":0.15020370483398438,"timestamp":"2025-11-30T01:08:58.380Z"}
{"record_type":"step_start","trace_id":"trc_1617aabf7d704e2c","step_id":"step_apply_moderate_config","step_name":"Apply Moderate Configuration","order":5,"timestamp":"2025-11-30T01:08:58.381Z"}
{"record_type":"step_end","trace_id":"trc_1617aabf7d704e2c","step_id":"step_apply_moderate_config","status":"success","latency_ms":0.34427642822265625,"timestamp":"2025-11-30T01:08:58.381Z"}
{"record_type":"step_start","trace_id":"trc_1617aabf7d704e2c","step_id":"step_run_moderate_extraction","step_name":"Run Moderate Extraction","order":6,"timestamp":"2025-11-30T01:08:58.381Z"}
{"record_type":"step_end","trace_id":"trc_1617aabf7d704e2c","step_id":"step_run_moderate_extraction","status":"success","latency_ms":0.23603439331054688,"timestamp":"2025-11-30T01:08:58.381Z"}
{"record_type":"step_start","trace_id":"trc_1617aabf7d704e2c","step_id":"step_apply_aggressive_config","step_name":"Apply Aggressive Configuration","order":7,"timestamp":"2025-11-30T01:08:58.382Z"}
{"record_type":"step_end","trace_id":"trc_1617aabf7d704e2c","step_id":"step_apply_aggressive_config","status":"success","latency_ms":0.32401084899902344,"timestamp":"2025-11-30T01:08:58.382Z"}
{"record_type":"step_start","trace_id":"trc_1617aabf7d704e2c","step_id":"step_run_aggressive_extraction","step_name":"Run Aggressive Extraction","order":8,"timestamp":"2025-11-30T01:08:58.382Z"}
{"record_type":"step_end","trace_id":"trc_1617aabf7d704e2c","step_id":"step_run_aggressive_extraction","status":"success","latency_ms":0.15211105346679688,"timestamp":"2025-11-30T01:08:58.382Z"}
{"record_type":"step_start","trace_id":"trc_1617aabf7d704e2c","step_id":"step_run_llm_comparative","step_name":"Run LLM Comparative Evaluation","order":9,"timestamp":"2025-11-30T01:08:58.382Z"}
{"record_type":"step_end","trace_id":"trc_1617aabf7d704e2c","step_id":"step_run_llm_comparative","status":"success","latency_ms":0.5779266357421875,"timestamp":"2025-11-30T01:08:58.383Z"}
{"record_type":"scenario_end","trace_id":"trc_1617aabf7d704e2c","scenario_id":"scenario_extraction_evaluation","status":"success","total_latency_ms":4.9591064453125,"steps_completed":9,"timestamp":"2025-11-30T01:08:58.384Z"}
{"record_type":"meta","schema_version":"1.0.0","generated_by":"frontend_driver_v1","created_at":"2025-11-30T01:25:13.052Z"}
{"record_type":"component","component_id":"node_macbookpro_lan","component_kind":"InfraNode","provider":"local","hostname":"MacBookPro.lan","platform":"Darwin","platform_version":"Darwin Kernel Version 24.4.0: Fri Apr 11 18:33:47 PDT 2025; root:xnu-11417.101.15~117/RELEASE_ARM64_T6000","python_version":"3.13.7","cwd":"/Users/kevintoles/POC/llm-document-enhancer","user":"kevintoles","environment":"development"}
{"record_type":"component","component_id":"svc_pdf_converter","component_kind":"Service","name":"PDF to JSON Converter","description":"Converts PDF documents to structured JSON with chapter segmentation","owner_team":"document-processing","inputs":["entity_pdf_document"],"outputs":["entity_json_text","entity_chapter_segments"]}
{"record_type":"component","component_id":"svc_metadata_extractor","component_kind":"Service","name":"Metadata Extraction Service","description":"Extracts keywords, concepts, and summaries using YAKE and Summa","owner_team":"nlp-platform","inputs":["entity_json_text","entity_chapter_segments"],"outputs":["entity_book_metadata"]}
{"record_type":"component","component_id":"svc_taxonomy_builder","component_kind":"Service","name":"Taxonomy Builder Service","description":"Builds hierarchical taxonomy from extracted metadata","owner_team":"knowledge-graph","inputs":["entity_book_metadata"],"outputs":["entity_taxonomy"]}
{"record_type":"component","component_id":"svc_metadata_enricher","component_kind":"Service","name":"Metadata Enrichment Service","description":"Enriches metadata with cross-book references using TF-IDF similarity","owner_team":"nlp-platform","inputs":["entity_book_metadata","entity_taxonomy"],"outputs":["entity_enriched_metadata"]}
{"record_type":"component","component_id":"svc_guideline_generator","component_kind":"Service","name":"Guideline Generator Service","description":"Generates base guidelines from enriched metadata","owner_team":"content-generation","inputs":["entity_enriched_metadata"],"outputs":["entity_base_guideline"]}
{"record_type":"component","component_id":"svc_llm_enhancer","component_kind":"Service","name":"LLM Enhancement Service","description":"Enhances guidelines using multiple LLM providers","owner_team":"llm-platform","inputs":["entity_base_guideline"],"outputs":["entity_enhanced_guideline"]}
{"record_type":"component","component_id":"svc_statistical_extractor","component_kind":"Service","name":"Statistical Extractor Adapter","description":"Adapts YAKE and Summa libraries for keyword/concept extraction","owner_team":"nlp-platform","inputs":["entity_chapter_text"],"outputs":["entity_keywords","entity_concepts"]}
{"record_type":"component","component_id":"ep_pdf_upload","component_kind":"Endpoint","name":"PDF Upload Endpoint","description":"Accepts PDF file uploads for processing","service_id":"svc_pdf_converter","protocol":"http","method":"POST","path":"/api/v1/documents/upload","consumes":["entity_pdf_document"],"produces":["entity_json_text"]}
{"record_type":"component","component_id":"ep_extract_metadata","component_kind":"Endpoint","name":"Metadata Extraction Endpoint","description":"Triggers metadata extraction for a document","service_id":"svc_metadata_extractor","protocol":"http","method":"POST","path":"/api/v1/metadata/extract","consumes":["entity_json_text"],"produces":["entity_book_metadata"]}
{"record_type":"component","component_id":"ep_enrich_metadata","component_kind":"Endpoint","name":"Metadata Enrichment Endpoint","description":"Triggers cross-book enrichment","service_id":"svc_metadata_enricher","protocol":"http","method":"POST","path":"/api/v1/metadata/enrich","consumes":["entity_book_metadata","entity_taxonomy"],"produces":["entity_enriched_metadata"]}
{"record_type":"component","component_id":"ep_generate_guideline","component_kind":"Endpoint","name":"Guideline Generation Endpoint","description":"Generates base guideline from enriched metadata","service_id":"svc_guideline_generator","protocol":"http","method":"POST","path":"/api/v1/guidelines/generate","consumes":["entity_enriched_metadata"],"produces":["entity_base_guideline"]}
{"record_type":"component","component_id":"ep_enhance_guideline","component_kind":"Endpoint","name":"LLM Enhancement Endpoint","description":"Enhances guideline using LLMs","service_id":"svc_llm_enhancer","protocol":"http","method":"POST","path":"/api/v1/guidelines/enhance","consumes":["entity_base_guideline"],"produces":["entity_enhanced_guideline"]}
{"record_type":"component","component_id":"db_document_store","component_kind":"Database","name":"Document Store","description":"Stores PDF documents and JSON text outputs","engine":"filesystem"}
{"record_type":"component","component_id":"db_metadata_store","component_kind":"Database","name":"Metadata Store","description":"Stores extracted metadata JSON files","engine":"filesystem"}
{"record_type":"component","component_id":"db_taxonomy_store","component_kind":"Database","name":"Taxonomy Store","description":"Stores taxonomy JSON files","engine":"filesystem"}
{"record_type":"component","component_id":"db_guideline_store","component_kind":"Database","name":"Guideline Store","description":"Stores generated guideline documents","engine":"filesystem"}
{"record_type":"component","component_id":"db_llm_cache","component_kind":"Database","name":"LLM Response Cache","description":"Caches LLM API responses","engine":"filesystem"}
{"record_type":"component","component_id":"ext_openai_api","component_kind":"ExternalSystem","name":"OpenAI API","description":"GPT-4o LLM provider","contact_type":"http","base_url":"https://api.openai.com"}
{"record_type":"component","component_id":"ext_anthropic_api","component_kind":"ExternalSystem","name":"Anthropic API","description":"Claude LLM provider","contact_type":"http","base_url":"https://api.anthropic.com"}
{"record_type":"component","component_id":"ext_gemini_api","component_kind":"ExternalSystem","name":"Google Gemini API","description":"Gemini LLM provider","contact_type":"http","base_url":"https://generativelanguage.googleapis.com"}
{"record_type":"component","component_id":"ext_deepseek_api","component_kind":"ExternalSystem","name":"DeepSeek API","description":"DeepSeek LLM provider","contact_type":"http","base_url":"https://api.deepseek.com"}
{"record_type":"relationship","from_id":"svc_pdf_converter","to_id":"ep_pdf_upload","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_metadata_extractor","to_id":"ep_extract_metadata","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_metadata_enricher","to_id":"ep_enrich_metadata","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_guideline_generator","to_id":"ep_generate_guideline","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ep_enhance_guideline","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_pdf_converter","to_id":"db_document_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_metadata_extractor","to_id":"db_metadata_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_taxonomy_builder","to_id":"db_taxonomy_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_guideline_generator","to_id":"db_guideline_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"db_llm_cache","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_metadata_extractor","to_id":"db_document_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_metadata_enricher","to_id":"db_metadata_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_metadata_enricher","to_id":"db_taxonomy_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_guideline_generator","to_id":"db_metadata_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"db_llm_cache","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_openai_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_anthropic_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_gemini_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_deepseek_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"entity_definition","entity_id":"entity_pdf_document","name":"PDF Document","description":"Source PDF file for processing","states":["uploaded","processing","converted","failed"],"primary_key":"document_id"}
{"record_type":"entity_definition","entity_id":"entity_json_text","name":"JSON Text","description":"Extracted text from PDF in JSON format","states":["pending","extracted","validated"],"primary_key":"json_id"}
{"record_type":"entity_definition","entity_id":"entity_chapter_segments","name":"Chapter Segments","description":"Identified chapter boundaries with page ranges","states":["detected","validated"],"primary_key":"segment_id"}
{"record_type":"entity_definition","entity_id":"entity_book_metadata","name":"Book Metadata","description":"Extracted keywords, concepts, summaries per chapter","states":["pending","extracted","validated"],"primary_key":"metadata_id"}
{"record_type":"entity_definition","entity_id":"entity_taxonomy","name":"Taxonomy","description":"Hierarchical classification of topics and concepts","states":["pending","built","validated"],"primary_key":"taxonomy_id"}
{"record_type":"entity_definition","entity_id":"entity_enriched_metadata","name":"Enriched Metadata","description":"Metadata with cross-book references and topic clusters","states":["pending","enriched","validated"],"primary_key":"enriched_id"}
{"record_type":"entity_definition","entity_id":"entity_base_guideline","name":"Base Guideline","description":"Generated guideline document before LLM enhancement","states":["pending","generated","validated"],"primary_key":"guideline_id"}
{"record_type":"entity_definition","entity_id":"entity_enhanced_guideline","name":"Enhanced Guideline","description":"LLM-enhanced guideline document","states":["pending","enhanced","validated","failed"],"primary_key":"enhanced_id"}
{"record_type":"entity_definition","entity_id":"entity_aggregate","name":"Evaluation Aggregate","description":"Aggregated extraction metrics for LLM evaluation","states":["pending","created","validated"],"primary_key":"aggregate_id"}
{"record_type":"process_definition","process_id":"proc_document_ingestion","name":"Document Ingestion","description":"Ingest PDF document and convert to structured JSON","trigger_type":"user_action","trigger_source":"frontend_app","success_criteria":"JSON text created with chapter segments","failure_criteria":"PDF conversion fails or no chapters detected"}
{"record_type":"process_definition","process_id":"proc_metadata_extraction","name":"Metadata Extraction","description":"Extract keywords, concepts, summaries from document","trigger_type":"internal_event","trigger_source":"document_ingestion","success_criteria":"Metadata JSON created with keywords and concepts","failure_criteria":"Extraction produces empty results"}
{"record_type":"process_definition","process_id":"proc_taxonomy_building","name":"Taxonomy Building","description":"Build hierarchical taxonomy from metadata","trigger_type":"internal_event","trigger_source":"metadata_extraction","success_criteria":"Taxonomy JSON with valid tier structure","failure_criteria":"Taxonomy generation fails"}
{"record_type":"process_definition","process_id":"proc_enrichment","name":"Metadata Enrichment","description":"Enrich metadata with cross-book references","trigger_type":"internal_event","trigger_source":"taxonomy_building","success_criteria":"Enriched metadata with related chapters","failure_criteria":"Enrichment produces no cross-references"}
{"record_type":"process_definition","process_id":"proc_guideline_generation","name":"Guideline Generation","description":"Full pipeline from metadata to enhanced guideline","trigger_type":"user_action","trigger_source":"frontend_app","success_criteria":"Enhanced guideline document created","failure_criteria":"Any pipeline step fails"}
{"record_type":"process_definition","process_id":"proc_extraction_evaluation","name":"Extraction Evaluation","description":"Run 4-profile extraction test with LLM evaluation","trigger_type":"user_action","trigger_source":"observability_runner","success_criteria":"All 4 aggregates created and LLMs evaluate","failure_criteria":"Profile extraction fails or LLM calls error"}
{"record_type":"test","data":"value"}
{"record_type":"meta","schema_version":"1.0.0","generated_by":"frontend_driver_v1","created_at":"2025-11-30T01:48:26.113Z"}
{"record_type":"component","component_id":"node_macbookpro_lan","component_kind":"InfraNode","provider":"local","hostname":"MacBookPro.lan","platform":"Darwin","platform_version":"Darwin Kernel Version 24.4.0: Fri Apr 11 18:33:47 PDT 2025; root:xnu-11417.101.15~117/RELEASE_ARM64_T6000","python_version":"3.13.7","cwd":"/Users/kevintoles/POC/llm-document-enhancer","user":"kevintoles","environment":"development"}
{"record_type":"component","component_id":"svc_pdf_converter","component_kind":"Service","name":"PDF to JSON Converter","description":"Converts PDF documents to structured JSON with chapter segmentation","owner_team":"document-processing","inputs":["entity_pdf_document"],"outputs":["entity_json_text","entity_chapter_segments"]}
{"record_type":"component","component_id":"svc_metadata_extractor","component_kind":"Service","name":"Metadata Extraction Service","description":"Extracts keywords, concepts, and summaries using YAKE and Summa","owner_team":"nlp-platform","inputs":["entity_json_text","entity_chapter_segments"],"outputs":["entity_book_metadata"]}
{"record_type":"component","component_id":"svc_taxonomy_builder","component_kind":"Service","name":"Taxonomy Builder Service","description":"Builds hierarchical taxonomy from extracted metadata","owner_team":"knowledge-graph","inputs":["entity_book_metadata"],"outputs":["entity_taxonomy"]}
{"record_type":"component","component_id":"svc_metadata_enricher","component_kind":"Service","name":"Metadata Enrichment Service","description":"Enriches metadata with cross-book references using TF-IDF similarity","owner_team":"nlp-platform","inputs":["entity_book_metadata","entity_taxonomy"],"outputs":["entity_enriched_metadata"]}
{"record_type":"component","component_id":"svc_guideline_generator","component_kind":"Service","name":"Guideline Generator Service","description":"Generates base guidelines from enriched metadata","owner_team":"content-generation","inputs":["entity_enriched_metadata"],"outputs":["entity_base_guideline"]}
{"record_type":"component","component_id":"svc_llm_enhancer","component_kind":"Service","name":"LLM Enhancement Service","description":"Enhances guidelines using multiple LLM providers","owner_team":"llm-platform","inputs":["entity_base_guideline"],"outputs":["entity_enhanced_guideline"]}
{"record_type":"component","component_id":"svc_statistical_extractor","component_kind":"Service","name":"Statistical Extractor Adapter","description":"Adapts YAKE and Summa libraries for keyword/concept extraction","owner_team":"nlp-platform","inputs":["entity_chapter_text"],"outputs":["entity_keywords","entity_concepts"]}
{"record_type":"component","component_id":"ep_pdf_upload","component_kind":"Endpoint","name":"PDF Upload Endpoint","description":"Accepts PDF file uploads for processing","service_id":"svc_pdf_converter","protocol":"http","method":"POST","path":"/api/v1/documents/upload","consumes":["entity_pdf_document"],"produces":["entity_json_text"]}
{"record_type":"component","component_id":"ep_extract_metadata","component_kind":"Endpoint","name":"Metadata Extraction Endpoint","description":"Triggers metadata extraction for a document","service_id":"svc_metadata_extractor","protocol":"http","method":"POST","path":"/api/v1/metadata/extract","consumes":["entity_json_text"],"produces":["entity_book_metadata"]}
{"record_type":"component","component_id":"ep_enrich_metadata","component_kind":"Endpoint","name":"Metadata Enrichment Endpoint","description":"Triggers cross-book enrichment","service_id":"svc_metadata_enricher","protocol":"http","method":"POST","path":"/api/v1/metadata/enrich","consumes":["entity_book_metadata","entity_taxonomy"],"produces":["entity_enriched_metadata"]}
{"record_type":"component","component_id":"ep_generate_guideline","component_kind":"Endpoint","name":"Guideline Generation Endpoint","description":"Generates base guideline from enriched metadata","service_id":"svc_guideline_generator","protocol":"http","method":"POST","path":"/api/v1/guidelines/generate","consumes":["entity_enriched_metadata"],"produces":["entity_base_guideline"]}
{"record_type":"component","component_id":"ep_enhance_guideline","component_kind":"Endpoint","name":"LLM Enhancement Endpoint","description":"Enhances guideline using LLMs","service_id":"svc_llm_enhancer","protocol":"http","method":"POST","path":"/api/v1/guidelines/enhance","consumes":["entity_base_guideline"],"produces":["entity_enhanced_guideline"]}
{"record_type":"component","component_id":"db_document_store","component_kind":"Database","name":"Document Store","description":"Stores PDF documents and JSON text outputs","engine":"filesystem"}
{"record_type":"component","component_id":"db_metadata_store","component_kind":"Database","name":"Metadata Store","description":"Stores extracted metadata JSON files","engine":"filesystem"}
{"record_type":"component","component_id":"db_taxonomy_store","component_kind":"Database","name":"Taxonomy Store","description":"Stores taxonomy JSON files","engine":"filesystem"}
{"record_type":"component","component_id":"db_guideline_store","component_kind":"Database","name":"Guideline Store","description":"Stores generated guideline documents","engine":"filesystem"}
{"record_type":"component","component_id":"db_llm_cache","component_kind":"Database","name":"LLM Response Cache","description":"Caches LLM API responses","engine":"filesystem"}
{"record_type":"component","component_id":"ext_openai_api","component_kind":"ExternalSystem","name":"OpenAI API","description":"GPT-4o LLM provider","contact_type":"http","base_url":"https://api.openai.com"}
{"record_type":"component","component_id":"ext_anthropic_api","component_kind":"ExternalSystem","name":"Anthropic API","description":"Claude LLM provider","contact_type":"http","base_url":"https://api.anthropic.com"}
{"record_type":"component","component_id":"ext_gemini_api","component_kind":"ExternalSystem","name":"Google Gemini API","description":"Gemini LLM provider","contact_type":"http","base_url":"https://generativelanguage.googleapis.com"}
{"record_type":"component","component_id":"ext_deepseek_api","component_kind":"ExternalSystem","name":"DeepSeek API","description":"DeepSeek LLM provider","contact_type":"http","base_url":"https://api.deepseek.com"}
{"record_type":"relationship","from_id":"svc_pdf_converter","to_id":"ep_pdf_upload","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_metadata_extractor","to_id":"ep_extract_metadata","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_metadata_enricher","to_id":"ep_enrich_metadata","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_guideline_generator","to_id":"ep_generate_guideline","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ep_enhance_guideline","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_pdf_converter","to_id":"db_document_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_metadata_extractor","to_id":"db_metadata_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_taxonomy_builder","to_id":"db_taxonomy_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_guideline_generator","to_id":"db_guideline_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"db_llm_cache","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_metadata_extractor","to_id":"db_document_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_metadata_enricher","to_id":"db_metadata_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_metadata_enricher","to_id":"db_taxonomy_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_guideline_generator","to_id":"db_metadata_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"db_llm_cache","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_openai_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_anthropic_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_gemini_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_deepseek_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"entity_definition","entity_id":"entity_pdf_document","name":"PDF Document","description":"Source PDF file for processing","states":["uploaded","processing","converted","failed"],"primary_key":"document_id"}
{"record_type":"entity_definition","entity_id":"entity_json_text","name":"JSON Text","description":"Extracted text from PDF in JSON format","states":["pending","extracted","validated"],"primary_key":"json_id"}
{"record_type":"entity_definition","entity_id":"entity_chapter_segments","name":"Chapter Segments","description":"Identified chapter boundaries with page ranges","states":["detected","validated"],"primary_key":"segment_id"}
{"record_type":"entity_definition","entity_id":"entity_book_metadata","name":"Book Metadata","description":"Extracted keywords, concepts, summaries per chapter","states":["pending","extracted","validated"],"primary_key":"metadata_id"}
{"record_type":"entity_definition","entity_id":"entity_taxonomy","name":"Taxonomy","description":"Hierarchical classification of topics and concepts","states":["pending","built","validated"],"primary_key":"taxonomy_id"}
{"record_type":"entity_definition","entity_id":"entity_enriched_metadata","name":"Enriched Metadata","description":"Metadata with cross-book references and topic clusters","states":["pending","enriched","validated"],"primary_key":"enriched_id"}
{"record_type":"entity_definition","entity_id":"entity_base_guideline","name":"Base Guideline","description":"Generated guideline document before LLM enhancement","states":["pending","generated","validated"],"primary_key":"guideline_id"}
{"record_type":"entity_definition","entity_id":"entity_enhanced_guideline","name":"Enhanced Guideline","description":"LLM-enhanced guideline document","states":["pending","enhanced","validated","failed"],"primary_key":"enhanced_id"}
{"record_type":"entity_definition","entity_id":"entity_aggregate","name":"Evaluation Aggregate","description":"Aggregated extraction metrics for LLM evaluation","states":["pending","created","validated"],"primary_key":"aggregate_id"}
{"record_type":"process_definition","process_id":"proc_document_ingestion","name":"Document Ingestion","description":"Ingest PDF document and convert to structured JSON","trigger_type":"user_action","trigger_source":"frontend_app","success_criteria":"JSON text created with chapter segments","failure_criteria":"PDF conversion fails or no chapters detected"}
{"record_type":"process_definition","process_id":"proc_metadata_extraction","name":"Metadata Extraction","description":"Extract keywords, concepts, summaries from document","trigger_type":"internal_event","trigger_source":"document_ingestion","success_criteria":"Metadata JSON created with keywords and concepts","failure_criteria":"Extraction produces empty results"}
{"record_type":"process_definition","process_id":"proc_taxonomy_building","name":"Taxonomy Building","description":"Build hierarchical taxonomy from metadata","trigger_type":"internal_event","trigger_source":"metadata_extraction","success_criteria":"Taxonomy JSON with valid tier structure","failure_criteria":"Taxonomy generation fails"}
{"record_type":"process_definition","process_id":"proc_enrichment","name":"Metadata Enrichment","description":"Enrich metadata with cross-book references","trigger_type":"internal_event","trigger_source":"taxonomy_building","success_criteria":"Enriched metadata with related chapters","failure_criteria":"Enrichment produces no cross-references"}
{"record_type":"process_definition","process_id":"proc_guideline_generation","name":"Guideline Generation","description":"Full pipeline from metadata to enhanced guideline","trigger_type":"user_action","trigger_source":"frontend_app","success_criteria":"Enhanced guideline document created","failure_criteria":"Any pipeline step fails"}
{"record_type":"process_definition","process_id":"proc_extraction_evaluation","name":"Extraction Evaluation","description":"Run 4-profile extraction test with LLM evaluation","trigger_type":"user_action","trigger_source":"observability_runner","success_criteria":"All 4 aggregates created and LLMs evaluate","failure_criteria":"Profile extraction fails or LLM calls error"}
{"record_type":"event","event_type":"PipelineStarted","trace_id":"trc_9dbd46aa828946f5","pipeline":"comprehensive_extraction_evaluation","timestamp":"2025-11-30T01:48:26.114Z"}
{"record_type":"event","event_type":"PhaseStarted","trace_id":"trc_9dbd46aa828946f5","phase":"extraction","timestamp":"2025-11-30T01:48:26.114Z"}
{"record_type":"event","event_type":"PhaseCompleted","trace_id":"trc_9dbd46aa828946f5","phase":"extraction","status":"success","timestamp":"2025-11-30T01:51:53.160Z","metrics":{"profiles_run":4,"profiles_succeeded":4}}
{"record_type":"meta","schema_version":"1.0.0","generated_by":"frontend_driver_v1","created_at":"2025-11-30T03:04:16.603Z"}
{"record_type":"component","component_id":"node_macbookpro_lan","component_kind":"InfraNode","provider":"local","hostname":"MacBookPro.lan","platform":"Darwin","platform_version":"Darwin Kernel Version 24.4.0: Fri Apr 11 18:33:47 PDT 2025; root:xnu-11417.101.15~117/RELEASE_ARM64_T6000","python_version":"3.13.7","cwd":"/Users/kevintoles/POC/llm-document-enhancer","user":"kevintoles","environment":"development"}
{"record_type":"component","component_id":"svc_pdf_converter","component_kind":"Service","name":"PDF to JSON Converter","description":"Converts PDF documents to structured JSON with chapter segmentation","owner_team":"document-processing","inputs":["entity_pdf_document"],"outputs":["entity_json_text","entity_chapter_segments"]}
{"record_type":"component","component_id":"svc_metadata_extractor","component_kind":"Service","name":"Metadata Extraction Service","description":"Extracts keywords, concepts, and summaries using YAKE and Summa","owner_team":"nlp-platform","inputs":["entity_json_text","entity_chapter_segments"],"outputs":["entity_book_metadata"]}
{"record_type":"component","component_id":"svc_taxonomy_builder","component_kind":"Service","name":"Taxonomy Builder Service","description":"Builds hierarchical taxonomy from extracted metadata","owner_team":"knowledge-graph","inputs":["entity_book_metadata"],"outputs":["entity_taxonomy"]}
{"record_type":"component","component_id":"svc_metadata_enricher","component_kind":"Service","name":"Metadata Enrichment Service","description":"Enriches metadata with cross-book references using TF-IDF similarity","owner_team":"nlp-platform","inputs":["entity_book_metadata","entity_taxonomy"],"outputs":["entity_enriched_metadata"]}
{"record_type":"component","component_id":"svc_guideline_generator","component_kind":"Service","name":"Guideline Generator Service","description":"Generates base guidelines from enriched metadata","owner_team":"content-generation","inputs":["entity_enriched_metadata"],"outputs":["entity_base_guideline"]}
{"record_type":"component","component_id":"svc_llm_enhancer","component_kind":"Service","name":"LLM Enhancement Service","description":"Enhances guidelines using multiple LLM providers","owner_team":"llm-platform","inputs":["entity_base_guideline"],"outputs":["entity_enhanced_guideline"]}
{"record_type":"component","component_id":"svc_statistical_extractor","component_kind":"Service","name":"Statistical Extractor Adapter","description":"Adapts YAKE and Summa libraries for keyword/concept extraction","owner_team":"nlp-platform","inputs":["entity_chapter_text"],"outputs":["entity_keywords","entity_concepts"]}
{"record_type":"component","component_id":"ep_pdf_upload","component_kind":"Endpoint","name":"PDF Upload Endpoint","description":"Accepts PDF file uploads for processing","service_id":"svc_pdf_converter","protocol":"http","method":"POST","path":"/api/v1/documents/upload","consumes":["entity_pdf_document"],"produces":["entity_json_text"]}
{"record_type":"component","component_id":"ep_extract_metadata","component_kind":"Endpoint","name":"Metadata Extraction Endpoint","description":"Triggers metadata extraction for a document","service_id":"svc_metadata_extractor","protocol":"http","method":"POST","path":"/api/v1/metadata/extract","consumes":["entity_json_text"],"produces":["entity_book_metadata"]}
{"record_type":"component","component_id":"ep_enrich_metadata","component_kind":"Endpoint","name":"Metadata Enrichment Endpoint","description":"Triggers cross-book enrichment","service_id":"svc_metadata_enricher","protocol":"http","method":"POST","path":"/api/v1/metadata/enrich","consumes":["entity_book_metadata","entity_taxonomy"],"produces":["entity_enriched_metadata"]}
{"record_type":"component","component_id":"ep_generate_guideline","component_kind":"Endpoint","name":"Guideline Generation Endpoint","description":"Generates base guideline from enriched metadata","service_id":"svc_guideline_generator","protocol":"http","method":"POST","path":"/api/v1/guidelines/generate","consumes":["entity_enriched_metadata"],"produces":["entity_base_guideline"]}
{"record_type":"component","component_id":"ep_enhance_guideline","component_kind":"Endpoint","name":"LLM Enhancement Endpoint","description":"Enhances guideline using LLMs","service_id":"svc_llm_enhancer","protocol":"http","method":"POST","path":"/api/v1/guidelines/enhance","consumes":["entity_base_guideline"],"produces":["entity_enhanced_guideline"]}
{"record_type":"component","component_id":"db_document_store","component_kind":"Database","name":"Document Store","description":"Stores PDF documents and JSON text outputs","engine":"filesystem"}
{"record_type":"component","component_id":"db_metadata_store","component_kind":"Database","name":"Metadata Store","description":"Stores extracted metadata JSON files","engine":"filesystem"}
{"record_type":"component","component_id":"db_taxonomy_store","component_kind":"Database","name":"Taxonomy Store","description":"Stores taxonomy JSON files","engine":"filesystem"}
{"record_type":"component","component_id":"db_guideline_store","component_kind":"Database","name":"Guideline Store","description":"Stores generated guideline documents","engine":"filesystem"}
{"record_type":"component","component_id":"db_llm_cache","component_kind":"Database","name":"LLM Response Cache","description":"Caches LLM API responses","engine":"filesystem"}
{"record_type":"component","component_id":"ext_openai_api","component_kind":"ExternalSystem","name":"OpenAI API","description":"GPT-4o LLM provider","contact_type":"http","base_url":"https://api.openai.com"}
{"record_type":"component","component_id":"ext_anthropic_api","component_kind":"ExternalSystem","name":"Anthropic API","description":"Claude LLM provider","contact_type":"http","base_url":"https://api.anthropic.com"}
{"record_type":"component","component_id":"ext_gemini_api","component_kind":"ExternalSystem","name":"Google Gemini API","description":"Gemini LLM provider","contact_type":"http","base_url":"https://generativelanguage.googleapis.com"}
{"record_type":"component","component_id":"ext_deepseek_api","component_kind":"ExternalSystem","name":"DeepSeek API","description":"DeepSeek LLM provider","contact_type":"http","base_url":"https://api.deepseek.com"}
{"record_type":"relationship","from_id":"svc_pdf_converter","to_id":"ep_pdf_upload","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_metadata_extractor","to_id":"ep_extract_metadata","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_metadata_enricher","to_id":"ep_enrich_metadata","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_guideline_generator","to_id":"ep_generate_guideline","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ep_enhance_guideline","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_pdf_converter","to_id":"db_document_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_metadata_extractor","to_id":"db_metadata_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_taxonomy_builder","to_id":"db_taxonomy_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_guideline_generator","to_id":"db_guideline_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"db_llm_cache","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_metadata_extractor","to_id":"db_document_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_metadata_enricher","to_id":"db_metadata_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_metadata_enricher","to_id":"db_taxonomy_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_guideline_generator","to_id":"db_metadata_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"db_llm_cache","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_openai_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_anthropic_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_gemini_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_deepseek_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"entity_definition","entity_id":"entity_pdf_document","name":"PDF Document","description":"Source PDF file for processing","states":["uploaded","processing","converted","failed"],"primary_key":"document_id"}
{"record_type":"entity_definition","entity_id":"entity_json_text","name":"JSON Text","description":"Extracted text from PDF in JSON format","states":["pending","extracted","validated"],"primary_key":"json_id"}
{"record_type":"entity_definition","entity_id":"entity_chapter_segments","name":"Chapter Segments","description":"Identified chapter boundaries with page ranges","states":["detected","validated"],"primary_key":"segment_id"}
{"record_type":"entity_definition","entity_id":"entity_book_metadata","name":"Book Metadata","description":"Extracted keywords, concepts, summaries per chapter","states":["pending","extracted","validated"],"primary_key":"metadata_id"}
{"record_type":"entity_definition","entity_id":"entity_taxonomy","name":"Taxonomy","description":"Hierarchical classification of topics and concepts","states":["pending","built","validated"],"primary_key":"taxonomy_id"}
{"record_type":"entity_definition","entity_id":"entity_enriched_metadata","name":"Enriched Metadata","description":"Metadata with cross-book references and topic clusters","states":["pending","enriched","validated"],"primary_key":"enriched_id"}
{"record_type":"entity_definition","entity_id":"entity_base_guideline","name":"Base Guideline","description":"Generated guideline document before LLM enhancement","states":["pending","generated","validated"],"primary_key":"guideline_id"}
{"record_type":"entity_definition","entity_id":"entity_enhanced_guideline","name":"Enhanced Guideline","description":"LLM-enhanced guideline document","states":["pending","enhanced","validated","failed"],"primary_key":"enhanced_id"}
{"record_type":"entity_definition","entity_id":"entity_aggregate","name":"Evaluation Aggregate","description":"Aggregated extraction metrics for LLM evaluation","states":["pending","created","validated"],"primary_key":"aggregate_id"}
{"record_type":"process_definition","process_id":"proc_document_ingestion","name":"Document Ingestion","description":"Ingest PDF document and convert to structured JSON","trigger_type":"user_action","trigger_source":"frontend_app","success_criteria":"JSON text created with chapter segments","failure_criteria":"PDF conversion fails or no chapters detected"}
{"record_type":"process_definition","process_id":"proc_metadata_extraction","name":"Metadata Extraction","description":"Extract keywords, concepts, summaries from document","trigger_type":"internal_event","trigger_source":"document_ingestion","success_criteria":"Metadata JSON created with keywords and concepts","failure_criteria":"Extraction produces empty results"}
{"record_type":"process_definition","process_id":"proc_taxonomy_building","name":"Taxonomy Building","description":"Build hierarchical taxonomy from metadata","trigger_type":"internal_event","trigger_source":"metadata_extraction","success_criteria":"Taxonomy JSON with valid tier structure","failure_criteria":"Taxonomy generation fails"}
{"record_type":"process_definition","process_id":"proc_enrichment","name":"Metadata Enrichment","description":"Enrich metadata with cross-book references","trigger_type":"internal_event","trigger_source":"taxonomy_building","success_criteria":"Enriched metadata with related chapters","failure_criteria":"Enrichment produces no cross-references"}
{"record_type":"process_definition","process_id":"proc_guideline_generation","name":"Guideline Generation","description":"Full pipeline from metadata to enhanced guideline","trigger_type":"user_action","trigger_source":"frontend_app","success_criteria":"Enhanced guideline document created","failure_criteria":"Any pipeline step fails"}
{"record_type":"process_definition","process_id":"proc_extraction_evaluation","name":"Extraction Evaluation","description":"Run 4-profile extraction test with LLM evaluation","trigger_type":"user_action","trigger_source":"observability_runner","success_criteria":"All 4 aggregates created and LLMs evaluate","failure_criteria":"Profile extraction fails or LLM calls error"}
{"record_type":"event","event_type":"PipelineStarted","trace_id":"trc_12a09496b7fc4bc1","pipeline":"comprehensive_extraction_evaluation","timestamp":"2025-11-30T03:04:16.605Z"}
{"record_type":"event","event_type":"PhaseStarted","trace_id":"trc_12a09496b7fc4bc1","phase":"extraction","timestamp":"2025-11-30T03:04:16.605Z"}
{"record_type":"meta","schema_version":"1.0.0","generated_by":"frontend_driver_v1","created_at":"2025-11-30T03:10:15.264Z"}
{"record_type":"component","component_id":"node_macbookpro_lan","component_kind":"InfraNode","provider":"local","hostname":"MacBookPro.lan","platform":"Darwin","platform_version":"Darwin Kernel Version 24.4.0: Fri Apr 11 18:33:47 PDT 2025; root:xnu-11417.101.15~117/RELEASE_ARM64_T6000","python_version":"3.13.7","cwd":"/Users/kevintoles/POC/llm-document-enhancer","user":"kevintoles","environment":"development"}
{"record_type":"component","component_id":"svc_pdf_converter","component_kind":"Service","name":"PDF to JSON Converter","description":"Converts PDF documents to structured JSON with chapter segmentation","owner_team":"document-processing","inputs":["entity_pdf_document"],"outputs":["entity_json_text","entity_chapter_segments"]}
{"record_type":"component","component_id":"svc_metadata_extractor","component_kind":"Service","name":"Metadata Extraction Service","description":"Extracts keywords, concepts, and summaries using YAKE and Summa","owner_team":"nlp-platform","inputs":["entity_json_text","entity_chapter_segments"],"outputs":["entity_book_metadata"]}
{"record_type":"component","component_id":"svc_taxonomy_builder","component_kind":"Service","name":"Taxonomy Builder Service","description":"Builds hierarchical taxonomy from extracted metadata","owner_team":"knowledge-graph","inputs":["entity_book_metadata"],"outputs":["entity_taxonomy"]}
{"record_type":"component","component_id":"svc_metadata_enricher","component_kind":"Service","name":"Metadata Enrichment Service","description":"Enriches metadata with cross-book references using TF-IDF similarity","owner_team":"nlp-platform","inputs":["entity_book_metadata","entity_taxonomy"],"outputs":["entity_enriched_metadata"]}
{"record_type":"component","component_id":"svc_guideline_generator","component_kind":"Service","name":"Guideline Generator Service","description":"Generates base guidelines from enriched metadata","owner_team":"content-generation","inputs":["entity_enriched_metadata"],"outputs":["entity_base_guideline"]}
{"record_type":"component","component_id":"svc_llm_enhancer","component_kind":"Service","name":"LLM Enhancement Service","description":"Enhances guidelines using multiple LLM providers","owner_team":"llm-platform","inputs":["entity_base_guideline"],"outputs":["entity_enhanced_guideline"]}
{"record_type":"component","component_id":"svc_statistical_extractor","component_kind":"Service","name":"Statistical Extractor Adapter","description":"Adapts YAKE and Summa libraries for keyword/concept extraction","owner_team":"nlp-platform","inputs":["entity_chapter_text"],"outputs":["entity_keywords","entity_concepts"]}
{"record_type":"component","component_id":"ep_pdf_upload","component_kind":"Endpoint","name":"PDF Upload Endpoint","description":"Accepts PDF file uploads for processing","service_id":"svc_pdf_converter","protocol":"http","method":"POST","path":"/api/v1/documents/upload","consumes":["entity_pdf_document"],"produces":["entity_json_text"]}
{"record_type":"component","component_id":"ep_extract_metadata","component_kind":"Endpoint","name":"Metadata Extraction Endpoint","description":"Triggers metadata extraction for a document","service_id":"svc_metadata_extractor","protocol":"http","method":"POST","path":"/api/v1/metadata/extract","consumes":["entity_json_text"],"produces":["entity_book_metadata"]}
{"record_type":"component","component_id":"ep_enrich_metadata","component_kind":"Endpoint","name":"Metadata Enrichment Endpoint","description":"Triggers cross-book enrichment","service_id":"svc_metadata_enricher","protocol":"http","method":"POST","path":"/api/v1/metadata/enrich","consumes":["entity_book_metadata","entity_taxonomy"],"produces":["entity_enriched_metadata"]}
{"record_type":"component","component_id":"ep_generate_guideline","component_kind":"Endpoint","name":"Guideline Generation Endpoint","description":"Generates base guideline from enriched metadata","service_id":"svc_guideline_generator","protocol":"http","method":"POST","path":"/api/v1/guidelines/generate","consumes":["entity_enriched_metadata"],"produces":["entity_base_guideline"]}
{"record_type":"component","component_id":"ep_enhance_guideline","component_kind":"Endpoint","name":"LLM Enhancement Endpoint","description":"Enhances guideline using LLMs","service_id":"svc_llm_enhancer","protocol":"http","method":"POST","path":"/api/v1/guidelines/enhance","consumes":["entity_base_guideline"],"produces":["entity_enhanced_guideline"]}
{"record_type":"component","component_id":"db_document_store","component_kind":"Database","name":"Document Store","description":"Stores PDF documents and JSON text outputs","engine":"filesystem"}
{"record_type":"component","component_id":"db_metadata_store","component_kind":"Database","name":"Metadata Store","description":"Stores extracted metadata JSON files","engine":"filesystem"}
{"record_type":"component","component_id":"db_taxonomy_store","component_kind":"Database","name":"Taxonomy Store","description":"Stores taxonomy JSON files","engine":"filesystem"}
{"record_type":"component","component_id":"db_guideline_store","component_kind":"Database","name":"Guideline Store","description":"Stores generated guideline documents","engine":"filesystem"}
{"record_type":"component","component_id":"db_llm_cache","component_kind":"Database","name":"LLM Response Cache","description":"Caches LLM API responses","engine":"filesystem"}
{"record_type":"component","component_id":"ext_openai_api","component_kind":"ExternalSystem","name":"OpenAI API","description":"GPT-4o LLM provider","contact_type":"http","base_url":"https://api.openai.com"}
{"record_type":"component","component_id":"ext_anthropic_api","component_kind":"ExternalSystem","name":"Anthropic API","description":"Claude LLM provider","contact_type":"http","base_url":"https://api.anthropic.com"}
{"record_type":"component","component_id":"ext_gemini_api","component_kind":"ExternalSystem","name":"Google Gemini API","description":"Gemini LLM provider","contact_type":"http","base_url":"https://generativelanguage.googleapis.com"}
{"record_type":"component","component_id":"ext_deepseek_api","component_kind":"ExternalSystem","name":"DeepSeek API","description":"DeepSeek LLM provider","contact_type":"http","base_url":"https://api.deepseek.com"}
{"record_type":"relationship","from_id":"svc_pdf_converter","to_id":"ep_pdf_upload","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_metadata_extractor","to_id":"ep_extract_metadata","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_metadata_enricher","to_id":"ep_enrich_metadata","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_guideline_generator","to_id":"ep_generate_guideline","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ep_enhance_guideline","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_pdf_converter","to_id":"db_document_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_metadata_extractor","to_id":"db_metadata_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_taxonomy_builder","to_id":"db_taxonomy_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_guideline_generator","to_id":"db_guideline_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"db_llm_cache","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_metadata_extractor","to_id":"db_document_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_metadata_enricher","to_id":"db_metadata_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_metadata_enricher","to_id":"db_taxonomy_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_guideline_generator","to_id":"db_metadata_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"db_llm_cache","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_openai_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_anthropic_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_gemini_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_deepseek_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"entity_definition","entity_id":"entity_pdf_document","name":"PDF Document","description":"Source PDF file for processing","states":["uploaded","processing","converted","failed"],"primary_key":"document_id"}
{"record_type":"entity_definition","entity_id":"entity_json_text","name":"JSON Text","description":"Extracted text from PDF in JSON format","states":["pending","extracted","validated"],"primary_key":"json_id"}
{"record_type":"entity_definition","entity_id":"entity_chapter_segments","name":"Chapter Segments","description":"Identified chapter boundaries with page ranges","states":["detected","validated"],"primary_key":"segment_id"}
{"record_type":"entity_definition","entity_id":"entity_book_metadata","name":"Book Metadata","description":"Extracted keywords, concepts, summaries per chapter","states":["pending","extracted","validated"],"primary_key":"metadata_id"}
{"record_type":"entity_definition","entity_id":"entity_taxonomy","name":"Taxonomy","description":"Hierarchical classification of topics and concepts","states":["pending","built","validated"],"primary_key":"taxonomy_id"}
{"record_type":"entity_definition","entity_id":"entity_enriched_metadata","name":"Enriched Metadata","description":"Metadata with cross-book references and topic clusters","states":["pending","enriched","validated"],"primary_key":"enriched_id"}
{"record_type":"entity_definition","entity_id":"entity_base_guideline","name":"Base Guideline","description":"Generated guideline document before LLM enhancement","states":["pending","generated","validated"],"primary_key":"guideline_id"}
{"record_type":"entity_definition","entity_id":"entity_enhanced_guideline","name":"Enhanced Guideline","description":"LLM-enhanced guideline document","states":["pending","enhanced","validated","failed"],"primary_key":"enhanced_id"}
{"record_type":"entity_definition","entity_id":"entity_aggregate","name":"Evaluation Aggregate","description":"Aggregated extraction metrics for LLM evaluation","states":["pending","created","validated"],"primary_key":"aggregate_id"}
{"record_type":"process_definition","process_id":"proc_document_ingestion","name":"Document Ingestion","description":"Ingest PDF document and convert to structured JSON","trigger_type":"user_action","trigger_source":"frontend_app","success_criteria":"JSON text created with chapter segments","failure_criteria":"PDF conversion fails or no chapters detected"}
{"record_type":"process_definition","process_id":"proc_metadata_extraction","name":"Metadata Extraction","description":"Extract keywords, concepts, summaries from document","trigger_type":"internal_event","trigger_source":"document_ingestion","success_criteria":"Metadata JSON created with keywords and concepts","failure_criteria":"Extraction produces empty results"}
{"record_type":"process_definition","process_id":"proc_taxonomy_building","name":"Taxonomy Building","description":"Build hierarchical taxonomy from metadata","trigger_type":"internal_event","trigger_source":"metadata_extraction","success_criteria":"Taxonomy JSON with valid tier structure","failure_criteria":"Taxonomy generation fails"}
{"record_type":"process_definition","process_id":"proc_enrichment","name":"Metadata Enrichment","description":"Enrich metadata with cross-book references","trigger_type":"internal_event","trigger_source":"taxonomy_building","success_criteria":"Enriched metadata with related chapters","failure_criteria":"Enrichment produces no cross-references"}
{"record_type":"process_definition","process_id":"proc_guideline_generation","name":"Guideline Generation","description":"Full pipeline from metadata to enhanced guideline","trigger_type":"user_action","trigger_source":"frontend_app","success_criteria":"Enhanced guideline document created","failure_criteria":"Any pipeline step fails"}
{"record_type":"process_definition","process_id":"proc_extraction_evaluation","name":"Extraction Evaluation","description":"Run 4-profile extraction test with LLM evaluation","trigger_type":"user_action","trigger_source":"observability_runner","success_criteria":"All 4 aggregates created and LLMs evaluate","failure_criteria":"Profile extraction fails or LLM calls error"}
{"record_type":"event","event_type":"PipelineStarted","trace_id":"trc_6824524aecd2416c","pipeline":"comprehensive_extraction_evaluation","timestamp":"2025-11-30T03:10:15.265Z"}
{"record_type":"event","event_type":"PhaseStarted","trace_id":"trc_6824524aecd2416c","phase":"extraction","timestamp":"2025-11-30T03:10:15.265Z"}
{"record_type":"meta","schema_version":"1.0.0","generated_by":"frontend_driver_v1","created_at":"2025-11-30T03:14:12.924Z"}
{"record_type":"component","component_id":"node_macbookpro_lan","component_kind":"InfraNode","provider":"local","hostname":"MacBookPro.lan","platform":"Darwin","platform_version":"Darwin Kernel Version 24.4.0: Fri Apr 11 18:33:47 PDT 2025; root:xnu-11417.101.15~117/RELEASE_ARM64_T6000","python_version":"3.13.7","cwd":"/Users/kevintoles/POC/llm-document-enhancer","user":"kevintoles","environment":"development"}
{"record_type":"component","component_id":"svc_pdf_converter","component_kind":"Service","name":"PDF to JSON Converter","description":"Converts PDF documents to structured JSON with chapter segmentation","owner_team":"document-processing","inputs":["entity_pdf_document"],"outputs":["entity_json_text","entity_chapter_segments"]}
{"record_type":"component","component_id":"svc_metadata_extractor","component_kind":"Service","name":"Metadata Extraction Service","description":"Extracts keywords, concepts, and summaries using YAKE and Summa","owner_team":"nlp-platform","inputs":["entity_json_text","entity_chapter_segments"],"outputs":["entity_book_metadata"]}
{"record_type":"component","component_id":"svc_taxonomy_builder","component_kind":"Service","name":"Taxonomy Builder Service","description":"Builds hierarchical taxonomy from extracted metadata","owner_team":"knowledge-graph","inputs":["entity_book_metadata"],"outputs":["entity_taxonomy"]}
{"record_type":"component","component_id":"svc_metadata_enricher","component_kind":"Service","name":"Metadata Enrichment Service","description":"Enriches metadata with cross-book references using TF-IDF similarity","owner_team":"nlp-platform","inputs":["entity_book_metadata","entity_taxonomy"],"outputs":["entity_enriched_metadata"]}
{"record_type":"component","component_id":"svc_guideline_generator","component_kind":"Service","name":"Guideline Generator Service","description":"Generates base guidelines from enriched metadata","owner_team":"content-generation","inputs":["entity_enriched_metadata"],"outputs":["entity_base_guideline"]}
{"record_type":"component","component_id":"svc_llm_enhancer","component_kind":"Service","name":"LLM Enhancement Service","description":"Enhances guidelines using multiple LLM providers","owner_team":"llm-platform","inputs":["entity_base_guideline"],"outputs":["entity_enhanced_guideline"]}
{"record_type":"component","component_id":"svc_statistical_extractor","component_kind":"Service","name":"Statistical Extractor Adapter","description":"Adapts YAKE and Summa libraries for keyword/concept extraction","owner_team":"nlp-platform","inputs":["entity_chapter_text"],"outputs":["entity_keywords","entity_concepts"]}
{"record_type":"component","component_id":"ep_pdf_upload","component_kind":"Endpoint","name":"PDF Upload Endpoint","description":"Accepts PDF file uploads for processing","service_id":"svc_pdf_converter","protocol":"http","method":"POST","path":"/api/v1/documents/upload","consumes":["entity_pdf_document"],"produces":["entity_json_text"]}
{"record_type":"component","component_id":"ep_extract_metadata","component_kind":"Endpoint","name":"Metadata Extraction Endpoint","description":"Triggers metadata extraction for a document","service_id":"svc_metadata_extractor","protocol":"http","method":"POST","path":"/api/v1/metadata/extract","consumes":["entity_json_text"],"produces":["entity_book_metadata"]}
{"record_type":"component","component_id":"ep_enrich_metadata","component_kind":"Endpoint","name":"Metadata Enrichment Endpoint","description":"Triggers cross-book enrichment","service_id":"svc_metadata_enricher","protocol":"http","method":"POST","path":"/api/v1/metadata/enrich","consumes":["entity_book_metadata","entity_taxonomy"],"produces":["entity_enriched_metadata"]}
{"record_type":"component","component_id":"ep_generate_guideline","component_kind":"Endpoint","name":"Guideline Generation Endpoint","description":"Generates base guideline from enriched metadata","service_id":"svc_guideline_generator","protocol":"http","method":"POST","path":"/api/v1/guidelines/generate","consumes":["entity_enriched_metadata"],"produces":["entity_base_guideline"]}
{"record_type":"component","component_id":"ep_enhance_guideline","component_kind":"Endpoint","name":"LLM Enhancement Endpoint","description":"Enhances guideline using LLMs","service_id":"svc_llm_enhancer","protocol":"http","method":"POST","path":"/api/v1/guidelines/enhance","consumes":["entity_base_guideline"],"produces":["entity_enhanced_guideline"]}
{"record_type":"component","component_id":"db_document_store","component_kind":"Database","name":"Document Store","description":"Stores PDF documents and JSON text outputs","engine":"filesystem"}
{"record_type":"component","component_id":"db_metadata_store","component_kind":"Database","name":"Metadata Store","description":"Stores extracted metadata JSON files","engine":"filesystem"}
{"record_type":"component","component_id":"db_taxonomy_store","component_kind":"Database","name":"Taxonomy Store","description":"Stores taxonomy JSON files","engine":"filesystem"}
{"record_type":"component","component_id":"db_guideline_store","component_kind":"Database","name":"Guideline Store","description":"Stores generated guideline documents","engine":"filesystem"}
{"record_type":"component","component_id":"db_llm_cache","component_kind":"Database","name":"LLM Response Cache","description":"Caches LLM API responses","engine":"filesystem"}
{"record_type":"component","component_id":"ext_openai_api","component_kind":"ExternalSystem","name":"OpenAI API","description":"GPT-4o LLM provider","contact_type":"http","base_url":"https://api.openai.com"}
{"record_type":"component","component_id":"ext_anthropic_api","component_kind":"ExternalSystem","name":"Anthropic API","description":"Claude LLM provider","contact_type":"http","base_url":"https://api.anthropic.com"}
{"record_type":"component","component_id":"ext_gemini_api","component_kind":"ExternalSystem","name":"Google Gemini API","description":"Gemini LLM provider","contact_type":"http","base_url":"https://generativelanguage.googleapis.com"}
{"record_type":"component","component_id":"ext_deepseek_api","component_kind":"ExternalSystem","name":"DeepSeek API","description":"DeepSeek LLM provider","contact_type":"http","base_url":"https://api.deepseek.com"}
{"record_type":"relationship","from_id":"svc_pdf_converter","to_id":"ep_pdf_upload","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_metadata_extractor","to_id":"ep_extract_metadata","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_metadata_enricher","to_id":"ep_enrich_metadata","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_guideline_generator","to_id":"ep_generate_guideline","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ep_enhance_guideline","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_pdf_converter","to_id":"db_document_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_metadata_extractor","to_id":"db_metadata_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_taxonomy_builder","to_id":"db_taxonomy_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_guideline_generator","to_id":"db_guideline_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"db_llm_cache","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_metadata_extractor","to_id":"db_document_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_metadata_enricher","to_id":"db_metadata_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_metadata_enricher","to_id":"db_taxonomy_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_guideline_generator","to_id":"db_metadata_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"db_llm_cache","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_openai_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_anthropic_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_gemini_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_deepseek_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"entity_definition","entity_id":"entity_pdf_document","name":"PDF Document","description":"Source PDF file for processing","states":["uploaded","processing","converted","failed"],"primary_key":"document_id"}
{"record_type":"entity_definition","entity_id":"entity_json_text","name":"JSON Text","description":"Extracted text from PDF in JSON format","states":["pending","extracted","validated"],"primary_key":"json_id"}
{"record_type":"entity_definition","entity_id":"entity_chapter_segments","name":"Chapter Segments","description":"Identified chapter boundaries with page ranges","states":["detected","validated"],"primary_key":"segment_id"}
{"record_type":"entity_definition","entity_id":"entity_book_metadata","name":"Book Metadata","description":"Extracted keywords, concepts, summaries per chapter","states":["pending","extracted","validated"],"primary_key":"metadata_id"}
{"record_type":"entity_definition","entity_id":"entity_taxonomy","name":"Taxonomy","description":"Hierarchical classification of topics and concepts","states":["pending","built","validated"],"primary_key":"taxonomy_id"}
{"record_type":"entity_definition","entity_id":"entity_enriched_metadata","name":"Enriched Metadata","description":"Metadata with cross-book references and topic clusters","states":["pending","enriched","validated"],"primary_key":"enriched_id"}
{"record_type":"entity_definition","entity_id":"entity_base_guideline","name":"Base Guideline","description":"Generated guideline document before LLM enhancement","states":["pending","generated","validated"],"primary_key":"guideline_id"}
{"record_type":"entity_definition","entity_id":"entity_enhanced_guideline","name":"Enhanced Guideline","description":"LLM-enhanced guideline document","states":["pending","enhanced","validated","failed"],"primary_key":"enhanced_id"}
{"record_type":"entity_definition","entity_id":"entity_aggregate","name":"Evaluation Aggregate","description":"Aggregated extraction metrics for LLM evaluation","states":["pending","created","validated"],"primary_key":"aggregate_id"}
{"record_type":"process_definition","process_id":"proc_document_ingestion","name":"Document Ingestion","description":"Ingest PDF document and convert to structured JSON","trigger_type":"user_action","trigger_source":"frontend_app","success_criteria":"JSON text created with chapter segments","failure_criteria":"PDF conversion fails or no chapters detected"}
{"record_type":"process_definition","process_id":"proc_metadata_extraction","name":"Metadata Extraction","description":"Extract keywords, concepts, summaries from document","trigger_type":"internal_event","trigger_source":"document_ingestion","success_criteria":"Metadata JSON created with keywords and concepts","failure_criteria":"Extraction produces empty results"}
{"record_type":"process_definition","process_id":"proc_taxonomy_building","name":"Taxonomy Building","description":"Build hierarchical taxonomy from metadata","trigger_type":"internal_event","trigger_source":"metadata_extraction","success_criteria":"Taxonomy JSON with valid tier structure","failure_criteria":"Taxonomy generation fails"}
{"record_type":"process_definition","process_id":"proc_enrichment","name":"Metadata Enrichment","description":"Enrich metadata with cross-book references","trigger_type":"internal_event","trigger_source":"taxonomy_building","success_criteria":"Enriched metadata with related chapters","failure_criteria":"Enrichment produces no cross-references"}
{"record_type":"process_definition","process_id":"proc_guideline_generation","name":"Guideline Generation","description":"Full pipeline from metadata to enhanced guideline","trigger_type":"user_action","trigger_source":"frontend_app","success_criteria":"Enhanced guideline document created","failure_criteria":"Any pipeline step fails"}
{"record_type":"process_definition","process_id":"proc_extraction_evaluation","name":"Extraction Evaluation","description":"Run 4-profile extraction test with LLM evaluation","trigger_type":"user_action","trigger_source":"observability_runner","success_criteria":"All 4 aggregates created and LLMs evaluate","failure_criteria":"Profile extraction fails or LLM calls error"}
{"record_type":"event","event_type":"PipelineStarted","trace_id":"trc_a23adbea4fd54f1f","pipeline":"comprehensive_extraction_evaluation","timestamp":"2025-11-30T03:14:12.925Z"}
{"record_type":"event","event_type":"PhaseStarted","trace_id":"trc_a23adbea4fd54f1f","phase":"extraction","timestamp":"2025-11-30T03:14:12.926Z"}
{"record_type":"event","event_type":"PhaseCompleted","trace_id":"trc_a23adbea4fd54f1f","phase":"extraction","status":"success","timestamp":"2025-11-30T03:18:36.043Z","metrics":{"profiles_run":4,"profiles_succeeded":4}}
{"record_type":"event","event_type":"PhaseStarted","trace_id":"trc_a23adbea4fd54f1f","phase":"aggregate_validation","timestamp":"2025-11-30T03:18:36.043Z"}
{"record_type":"event","event_type":"PhaseCompleted","trace_id":"trc_a23adbea4fd54f1f","phase":"aggregate_validation","status":"success","timestamp":"2025-11-30T03:18:36.046Z","metrics":{"profiles_validated":4,"issues":[],"per_profile":{"baseline":{"source_book":"AI Engineering Building Applications","keywords_count":50,"concepts_count":30,"cross_refs_count":20,"keyword_diversity":0.5734989648033126},"current":{"source_book":"AI Engineering Building Applications","keywords_count":50,"concepts_count":30,"cross_refs_count":20,"keyword_diversity":0.6125511596180082},"moderate":{"source_book":"AI Engineering Building Applications","keywords_count":50,"concepts_count":30,"cross_refs_count":20,"keyword_diversity":0.726530612244898},"aggressive":{"source_book":"AI Engineering Building Applications","keywords_count":50,"concepts_count":30,"cross_refs_count":20,"keyword_diversity":0.8517006802721089}}}}
{"record_type":"event","event_type":"PhaseStarted","trace_id":"trc_a23adbea4fd54f1f","phase":"llm_evaluation","timestamp":"2025-11-30T03:18:36.046Z"}
{"record_type":"event","event_type":"PhaseCompleted","trace_id":"trc_a23adbea4fd54f1f","phase":"llm_evaluation","status":"success","timestamp":"2025-11-30T03:19:44.617Z","metrics":{"models_used":["gemini","claude","openai","deepseek"],"consensus":{"best_for_production":"current","votes":{"current":2},"agreement_ratio":0.5}}}
{"record_type":"event","event_type":"PhaseStarted","trace_id":"trc_a23adbea4fd54f1f","phase":"llm_validation","timestamp":"2025-11-30T03:19:44.618Z"}
{"record_type":"event","event_type":"PhaseCompleted","trace_id":"trc_a23adbea4fd54f1f","phase":"llm_validation","status":"success","timestamp":"2025-11-30T03:19:44.618Z","metrics":{"valid":true,"issues":["gemini: Failed to parse JSON","openai: Client error '429 Too Many Requests' for url 'https://api.openai.com/v1/chat/completions'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429"],"models_responded":4,"consensus_reached":true,"consensus_profile":"current","agreement_ratio":0.5}}
{"record_type":"event","event_type":"PipelineCompleted","trace_id":"trc_a23adbea4fd54f1f","pipeline":"comprehensive_extraction_evaluation","status":"success","timestamp":"2025-11-30T03:19:44.619Z","summary":{"extraction_success":true,"llm_models_used":["gemini","claude","openai","deepseek"],"consensus":{"best_for_production":"current","votes":{"current":2},"agreement_ratio":0.5},"duration_seconds":331.693558}}
{"record_type":"meta","schema_version":"1.0.0","generated_by":"frontend_driver_v1","created_at":"2025-11-30T04:10:05.050Z"}
{"record_type":"component","component_id":"node_macbookpro_lan","component_kind":"InfraNode","provider":"local","hostname":"MacBookPro.lan","platform":"Darwin","platform_version":"Darwin Kernel Version 24.4.0: Fri Apr 11 18:33:47 PDT 2025; root:xnu-11417.101.15~117/RELEASE_ARM64_T6000","python_version":"3.13.7","cwd":"/Users/kevintoles/POC/llm-document-enhancer","user":"kevintoles","environment":"development"}
{"record_type":"component","component_id":"svc_pdf_converter","component_kind":"Service","name":"PDF to JSON Converter","description":"Converts PDF documents to structured JSON with chapter segmentation","owner_team":"document-processing","inputs":["entity_pdf_document"],"outputs":["entity_json_text","entity_chapter_segments"]}
{"record_type":"component","component_id":"svc_metadata_extractor","component_kind":"Service","name":"Metadata Extraction Service","description":"Extracts keywords, concepts, and summaries using YAKE and Summa","owner_team":"nlp-platform","inputs":["entity_json_text","entity_chapter_segments"],"outputs":["entity_book_metadata"]}
{"record_type":"component","component_id":"svc_taxonomy_builder","component_kind":"Service","name":"Taxonomy Builder Service","description":"Builds hierarchical taxonomy from extracted metadata","owner_team":"knowledge-graph","inputs":["entity_book_metadata"],"outputs":["entity_taxonomy"]}
{"record_type":"component","component_id":"svc_metadata_enricher","component_kind":"Service","name":"Metadata Enrichment Service","description":"Enriches metadata with cross-book references using TF-IDF similarity","owner_team":"nlp-platform","inputs":["entity_book_metadata","entity_taxonomy"],"outputs":["entity_enriched_metadata"]}
{"record_type":"component","component_id":"svc_guideline_generator","component_kind":"Service","name":"Guideline Generator Service","description":"Generates base guidelines from enriched metadata","owner_team":"content-generation","inputs":["entity_enriched_metadata"],"outputs":["entity_base_guideline"]}
{"record_type":"component","component_id":"svc_llm_enhancer","component_kind":"Service","name":"LLM Enhancement Service","description":"Enhances guidelines using multiple LLM providers","owner_team":"llm-platform","inputs":["entity_base_guideline"],"outputs":["entity_enhanced_guideline"]}
{"record_type":"component","component_id":"svc_statistical_extractor","component_kind":"Service","name":"Statistical Extractor Adapter","description":"Adapts YAKE and Summa libraries for keyword/concept extraction","owner_team":"nlp-platform","inputs":["entity_chapter_text"],"outputs":["entity_keywords","entity_concepts"]}
{"record_type":"component","component_id":"ep_pdf_upload","component_kind":"Endpoint","name":"PDF Upload Endpoint","description":"Accepts PDF file uploads for processing","service_id":"svc_pdf_converter","protocol":"http","method":"POST","path":"/api/v1/documents/upload","consumes":["entity_pdf_document"],"produces":["entity_json_text"]}
{"record_type":"component","component_id":"ep_extract_metadata","component_kind":"Endpoint","name":"Metadata Extraction Endpoint","description":"Triggers metadata extraction for a document","service_id":"svc_metadata_extractor","protocol":"http","method":"POST","path":"/api/v1/metadata/extract","consumes":["entity_json_text"],"produces":["entity_book_metadata"]}
{"record_type":"component","component_id":"ep_enrich_metadata","component_kind":"Endpoint","name":"Metadata Enrichment Endpoint","description":"Triggers cross-book enrichment","service_id":"svc_metadata_enricher","protocol":"http","method":"POST","path":"/api/v1/metadata/enrich","consumes":["entity_book_metadata","entity_taxonomy"],"produces":["entity_enriched_metadata"]}
{"record_type":"component","component_id":"ep_generate_guideline","component_kind":"Endpoint","name":"Guideline Generation Endpoint","description":"Generates base guideline from enriched metadata","service_id":"svc_guideline_generator","protocol":"http","method":"POST","path":"/api/v1/guidelines/generate","consumes":["entity_enriched_metadata"],"produces":["entity_base_guideline"]}
{"record_type":"component","component_id":"ep_enhance_guideline","component_kind":"Endpoint","name":"LLM Enhancement Endpoint","description":"Enhances guideline using LLMs","service_id":"svc_llm_enhancer","protocol":"http","method":"POST","path":"/api/v1/guidelines/enhance","consumes":["entity_base_guideline"],"produces":["entity_enhanced_guideline"]}
{"record_type":"component","component_id":"db_document_store","component_kind":"Database","name":"Document Store","description":"Stores PDF documents and JSON text outputs","engine":"filesystem"}
{"record_type":"component","component_id":"db_metadata_store","component_kind":"Database","name":"Metadata Store","description":"Stores extracted metadata JSON files","engine":"filesystem"}
{"record_type":"component","component_id":"db_taxonomy_store","component_kind":"Database","name":"Taxonomy Store","description":"Stores taxonomy JSON files","engine":"filesystem"}
{"record_type":"component","component_id":"db_guideline_store","component_kind":"Database","name":"Guideline Store","description":"Stores generated guideline documents","engine":"filesystem"}
{"record_type":"component","component_id":"db_llm_cache","component_kind":"Database","name":"LLM Response Cache","description":"Caches LLM API responses","engine":"filesystem"}
{"record_type":"component","component_id":"ext_openai_api","component_kind":"ExternalSystem","name":"OpenAI API","description":"GPT-4o LLM provider","contact_type":"http","base_url":"https://api.openai.com"}
{"record_type":"component","component_id":"ext_anthropic_api","component_kind":"ExternalSystem","name":"Anthropic API","description":"Claude LLM provider","contact_type":"http","base_url":"https://api.anthropic.com"}
{"record_type":"component","component_id":"ext_gemini_api","component_kind":"ExternalSystem","name":"Google Gemini API","description":"Gemini LLM provider","contact_type":"http","base_url":"https://generativelanguage.googleapis.com"}
{"record_type":"component","component_id":"ext_deepseek_api","component_kind":"ExternalSystem","name":"DeepSeek API","description":"DeepSeek LLM provider","contact_type":"http","base_url":"https://api.deepseek.com"}
{"record_type":"relationship","from_id":"svc_pdf_converter","to_id":"ep_pdf_upload","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_metadata_extractor","to_id":"ep_extract_metadata","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_metadata_enricher","to_id":"ep_enrich_metadata","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_guideline_generator","to_id":"ep_generate_guideline","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ep_enhance_guideline","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_pdf_converter","to_id":"db_document_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_metadata_extractor","to_id":"db_metadata_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_taxonomy_builder","to_id":"db_taxonomy_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_guideline_generator","to_id":"db_guideline_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"db_llm_cache","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_metadata_extractor","to_id":"db_document_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_metadata_enricher","to_id":"db_metadata_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_metadata_enricher","to_id":"db_taxonomy_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_guideline_generator","to_id":"db_metadata_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"db_llm_cache","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_openai_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_anthropic_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_gemini_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_deepseek_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"entity_definition","entity_id":"entity_pdf_document","name":"PDF Document","description":"Source PDF file for processing","states":["uploaded","processing","converted","failed"],"primary_key":"document_id"}
{"record_type":"entity_definition","entity_id":"entity_json_text","name":"JSON Text","description":"Extracted text from PDF in JSON format","states":["pending","extracted","validated"],"primary_key":"json_id"}
{"record_type":"entity_definition","entity_id":"entity_chapter_segments","name":"Chapter Segments","description":"Identified chapter boundaries with page ranges","states":["detected","validated"],"primary_key":"segment_id"}
{"record_type":"entity_definition","entity_id":"entity_book_metadata","name":"Book Metadata","description":"Extracted keywords, concepts, summaries per chapter","states":["pending","extracted","validated"],"primary_key":"metadata_id"}
{"record_type":"entity_definition","entity_id":"entity_taxonomy","name":"Taxonomy","description":"Hierarchical classification of topics and concepts","states":["pending","built","validated"],"primary_key":"taxonomy_id"}
{"record_type":"entity_definition","entity_id":"entity_enriched_metadata","name":"Enriched Metadata","description":"Metadata with cross-book references and topic clusters","states":["pending","enriched","validated"],"primary_key":"enriched_id"}
{"record_type":"entity_definition","entity_id":"entity_base_guideline","name":"Base Guideline","description":"Generated guideline document before LLM enhancement","states":["pending","generated","validated"],"primary_key":"guideline_id"}
{"record_type":"entity_definition","entity_id":"entity_enhanced_guideline","name":"Enhanced Guideline","description":"LLM-enhanced guideline document","states":["pending","enhanced","validated","failed"],"primary_key":"enhanced_id"}
{"record_type":"entity_definition","entity_id":"entity_aggregate","name":"Evaluation Aggregate","description":"Aggregated extraction metrics for LLM evaluation","states":["pending","created","validated"],"primary_key":"aggregate_id"}
{"record_type":"process_definition","process_id":"proc_document_ingestion","name":"Document Ingestion","description":"Ingest PDF document and convert to structured JSON","trigger_type":"user_action","trigger_source":"frontend_app","success_criteria":"JSON text created with chapter segments","failure_criteria":"PDF conversion fails or no chapters detected"}
{"record_type":"process_definition","process_id":"proc_metadata_extraction","name":"Metadata Extraction","description":"Extract keywords, concepts, summaries from document","trigger_type":"internal_event","trigger_source":"document_ingestion","success_criteria":"Metadata JSON created with keywords and concepts","failure_criteria":"Extraction produces empty results"}
{"record_type":"process_definition","process_id":"proc_taxonomy_building","name":"Taxonomy Building","description":"Build hierarchical taxonomy from metadata","trigger_type":"internal_event","trigger_source":"metadata_extraction","success_criteria":"Taxonomy JSON with valid tier structure","failure_criteria":"Taxonomy generation fails"}
{"record_type":"process_definition","process_id":"proc_enrichment","name":"Metadata Enrichment","description":"Enrich metadata with cross-book references","trigger_type":"internal_event","trigger_source":"taxonomy_building","success_criteria":"Enriched metadata with related chapters","failure_criteria":"Enrichment produces no cross-references"}
{"record_type":"process_definition","process_id":"proc_guideline_generation","name":"Guideline Generation","description":"Full pipeline from metadata to enhanced guideline","trigger_type":"user_action","trigger_source":"frontend_app","success_criteria":"Enhanced guideline document created","failure_criteria":"Any pipeline step fails"}
{"record_type":"process_definition","process_id":"proc_extraction_evaluation","name":"Extraction Evaluation","description":"Run 4-profile extraction test with LLM evaluation","trigger_type":"user_action","trigger_source":"observability_runner","success_criteria":"All 4 aggregates created and LLMs evaluate","failure_criteria":"Profile extraction fails or LLM calls error"}
{"record_type":"event","event_type":"PipelineStarted","trace_id":"trc_c0bf0dbdd3a74f5b","pipeline":"comprehensive_extraction_evaluation","timestamp":"2025-11-30T04:10:05.051Z"}
{"record_type":"event","event_type":"PhaseStarted","trace_id":"trc_c0bf0dbdd3a74f5b","phase":"extraction","timestamp":"2025-11-30T04:10:05.051Z"}
{"record_type":"event","event_type":"PhaseCompleted","trace_id":"trc_c0bf0dbdd3a74f5b","phase":"extraction","status":"failed","timestamp":"2025-11-30T04:14:27.117Z","metrics":{"profiles_run":4,"profiles_succeeded":0}}
{"record_type":"event","event_type":"PipelineCompleted","trace_id":"trc_c0bf0dbdd3a74f5b","pipeline":"comprehensive_extraction_evaluation","status":"failed","timestamp":"2025-11-30T04:14:27.118Z","summary":{"phase":"extraction","reason":"extraction_failed"}}
{"record_type":"meta","schema_version":"1.0.0","generated_by":"frontend_driver_v1","created_at":"2025-11-30T04:25:45.982Z"}
{"record_type":"component","component_id":"node_macbookpro_lan","component_kind":"InfraNode","provider":"local","hostname":"MacBookPro.lan","platform":"Darwin","platform_version":"Darwin Kernel Version 24.4.0: Fri Apr 11 18:33:47 PDT 2025; root:xnu-11417.101.15~117/RELEASE_ARM64_T6000","python_version":"3.13.7","cwd":"/Users/kevintoles/POC/llm-document-enhancer","user":"kevintoles","environment":"development"}
{"record_type":"component","component_id":"svc_pdf_converter","component_kind":"Service","name":"PDF to JSON Converter","description":"Converts PDF documents to structured JSON with chapter segmentation","owner_team":"document-processing","inputs":["entity_pdf_document"],"outputs":["entity_json_text","entity_chapter_segments"]}
{"record_type":"component","component_id":"svc_metadata_extractor","component_kind":"Service","name":"Metadata Extraction Service","description":"Extracts keywords, concepts, and summaries using YAKE and Summa","owner_team":"nlp-platform","inputs":["entity_json_text","entity_chapter_segments"],"outputs":["entity_book_metadata"]}
{"record_type":"component","component_id":"svc_taxonomy_builder","component_kind":"Service","name":"Taxonomy Builder Service","description":"Builds hierarchical taxonomy from extracted metadata","owner_team":"knowledge-graph","inputs":["entity_book_metadata"],"outputs":["entity_taxonomy"]}
{"record_type":"component","component_id":"svc_metadata_enricher","component_kind":"Service","name":"Metadata Enrichment Service","description":"Enriches metadata with cross-book references using TF-IDF similarity","owner_team":"nlp-platform","inputs":["entity_book_metadata","entity_taxonomy"],"outputs":["entity_enriched_metadata"]}
{"record_type":"component","component_id":"svc_guideline_generator","component_kind":"Service","name":"Guideline Generator Service","description":"Generates base guidelines from enriched metadata","owner_team":"content-generation","inputs":["entity_enriched_metadata"],"outputs":["entity_base_guideline"]}
{"record_type":"component","component_id":"svc_llm_enhancer","component_kind":"Service","name":"LLM Enhancement Service","description":"Enhances guidelines using multiple LLM providers","owner_team":"llm-platform","inputs":["entity_base_guideline"],"outputs":["entity_enhanced_guideline"]}
{"record_type":"component","component_id":"svc_statistical_extractor","component_kind":"Service","name":"Statistical Extractor Adapter","description":"Adapts YAKE and Summa libraries for keyword/concept extraction","owner_team":"nlp-platform","inputs":["entity_chapter_text"],"outputs":["entity_keywords","entity_concepts"]}
{"record_type":"component","component_id":"ep_pdf_upload","component_kind":"Endpoint","name":"PDF Upload Endpoint","description":"Accepts PDF file uploads for processing","service_id":"svc_pdf_converter","protocol":"http","method":"POST","path":"/api/v1/documents/upload","consumes":["entity_pdf_document"],"produces":["entity_json_text"]}
{"record_type":"component","component_id":"ep_extract_metadata","component_kind":"Endpoint","name":"Metadata Extraction Endpoint","description":"Triggers metadata extraction for a document","service_id":"svc_metadata_extractor","protocol":"http","method":"POST","path":"/api/v1/metadata/extract","consumes":["entity_json_text"],"produces":["entity_book_metadata"]}
{"record_type":"component","component_id":"ep_enrich_metadata","component_kind":"Endpoint","name":"Metadata Enrichment Endpoint","description":"Triggers cross-book enrichment","service_id":"svc_metadata_enricher","protocol":"http","method":"POST","path":"/api/v1/metadata/enrich","consumes":["entity_book_metadata","entity_taxonomy"],"produces":["entity_enriched_metadata"]}
{"record_type":"component","component_id":"ep_generate_guideline","component_kind":"Endpoint","name":"Guideline Generation Endpoint","description":"Generates base guideline from enriched metadata","service_id":"svc_guideline_generator","protocol":"http","method":"POST","path":"/api/v1/guidelines/generate","consumes":["entity_enriched_metadata"],"produces":["entity_base_guideline"]}
{"record_type":"component","component_id":"ep_enhance_guideline","component_kind":"Endpoint","name":"LLM Enhancement Endpoint","description":"Enhances guideline using LLMs","service_id":"svc_llm_enhancer","protocol":"http","method":"POST","path":"/api/v1/guidelines/enhance","consumes":["entity_base_guideline"],"produces":["entity_enhanced_guideline"]}
{"record_type":"component","component_id":"db_document_store","component_kind":"Database","name":"Document Store","description":"Stores PDF documents and JSON text outputs","engine":"filesystem"}
{"record_type":"component","component_id":"db_metadata_store","component_kind":"Database","name":"Metadata Store","description":"Stores extracted metadata JSON files","engine":"filesystem"}
{"record_type":"component","component_id":"db_taxonomy_store","component_kind":"Database","name":"Taxonomy Store","description":"Stores taxonomy JSON files","engine":"filesystem"}
{"record_type":"component","component_id":"db_guideline_store","component_kind":"Database","name":"Guideline Store","description":"Stores generated guideline documents","engine":"filesystem"}
{"record_type":"component","component_id":"db_llm_cache","component_kind":"Database","name":"LLM Response Cache","description":"Caches LLM API responses","engine":"filesystem"}
{"record_type":"component","component_id":"ext_openai_api","component_kind":"ExternalSystem","name":"OpenAI API","description":"GPT-4o LLM provider","contact_type":"http","base_url":"https://api.openai.com"}
{"record_type":"component","component_id":"ext_anthropic_api","component_kind":"ExternalSystem","name":"Anthropic API","description":"Claude LLM provider","contact_type":"http","base_url":"https://api.anthropic.com"}
{"record_type":"component","component_id":"ext_gemini_api","component_kind":"ExternalSystem","name":"Google Gemini API","description":"Gemini LLM provider","contact_type":"http","base_url":"https://generativelanguage.googleapis.com"}
{"record_type":"component","component_id":"ext_deepseek_api","component_kind":"ExternalSystem","name":"DeepSeek API","description":"DeepSeek LLM provider","contact_type":"http","base_url":"https://api.deepseek.com"}
{"record_type":"relationship","from_id":"svc_pdf_converter","to_id":"ep_pdf_upload","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_metadata_extractor","to_id":"ep_extract_metadata","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_metadata_enricher","to_id":"ep_enrich_metadata","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_guideline_generator","to_id":"ep_generate_guideline","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ep_enhance_guideline","relationship_type":"EXPOSES"}
{"record_type":"relationship","from_id":"svc_pdf_converter","to_id":"db_document_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_metadata_extractor","to_id":"db_metadata_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_taxonomy_builder","to_id":"db_taxonomy_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_guideline_generator","to_id":"db_guideline_store","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"db_llm_cache","relationship_type":"WRITES_TO"}
{"record_type":"relationship","from_id":"svc_metadata_extractor","to_id":"db_document_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_metadata_enricher","to_id":"db_metadata_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_metadata_enricher","to_id":"db_taxonomy_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_guideline_generator","to_id":"db_metadata_store","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"db_llm_cache","relationship_type":"READS_FROM"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_openai_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_anthropic_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_gemini_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"relationship","from_id":"svc_llm_enhancer","to_id":"ext_deepseek_api","relationship_type":"INTEGRATES_WITH"}
{"record_type":"entity_definition","entity_id":"entity_pdf_document","name":"PDF Document","description":"Source PDF file for processing","states":["uploaded","processing","converted","failed"],"primary_key":"document_id"}
{"record_type":"entity_definition","entity_id":"entity_json_text","name":"JSON Text","description":"Extracted text from PDF in JSON format","states":["pending","extracted","validated"],"primary_key":"json_id"}
{"record_type":"entity_definition","entity_id":"entity_chapter_segments","name":"Chapter Segments","description":"Identified chapter boundaries with page ranges","states":["detected","validated"],"primary_key":"segment_id"}
{"record_type":"entity_definition","entity_id":"entity_book_metadata","name":"Book Metadata","description":"Extracted keywords, concepts, summaries per chapter","states":["pending","extracted","validated"],"primary_key":"metadata_id"}
{"record_type":"entity_definition","entity_id":"entity_taxonomy","name":"Taxonomy","description":"Hierarchical classification of topics and concepts","states":["pending","built","validated"],"primary_key":"taxonomy_id"}
{"record_type":"entity_definition","entity_id":"entity_enriched_metadata","name":"Enriched Metadata","description":"Metadata with cross-book references and topic clusters","states":["pending","enriched","validated"],"primary_key":"enriched_id"}
{"record_type":"entity_definition","entity_id":"entity_base_guideline","name":"Base Guideline","description":"Generated guideline document before LLM enhancement","states":["pending","generated","validated"],"primary_key":"guideline_id"}
{"record_type":"entity_definition","entity_id":"entity_enhanced_guideline","name":"Enhanced Guideline","description":"LLM-enhanced guideline document","states":["pending","enhanced","validated","failed"],"primary_key":"enhanced_id"}
{"record_type":"entity_definition","entity_id":"entity_aggregate","name":"Evaluation Aggregate","description":"Aggregated extraction metrics for LLM evaluation","states":["pending","created","validated"],"primary_key":"aggregate_id"}
{"record_type":"process_definition","process_id":"proc_document_ingestion","name":"Document Ingestion","description":"Ingest PDF document and convert to structured JSON","trigger_type":"user_action","trigger_source":"frontend_app","success_criteria":"JSON text created with chapter segments","failure_criteria":"PDF conversion fails or no chapters detected"}
{"record_type":"process_definition","process_id":"proc_metadata_extraction","name":"Metadata Extraction","description":"Extract keywords, concepts, summaries from document","trigger_type":"internal_event","trigger_source":"document_ingestion","success_criteria":"Metadata JSON created with keywords and concepts","failure_criteria":"Extraction produces empty results"}
{"record_type":"process_definition","process_id":"proc_taxonomy_building","name":"Taxonomy Building","description":"Build hierarchical taxonomy from metadata","trigger_type":"internal_event","trigger_source":"metadata_extraction","success_criteria":"Taxonomy JSON with valid tier structure","failure_criteria":"Taxonomy generation fails"}
{"record_type":"process_definition","process_id":"proc_enrichment","name":"Metadata Enrichment","description":"Enrich metadata with cross-book references","trigger_type":"internal_event","trigger_source":"taxonomy_building","success_criteria":"Enriched metadata with related chapters","failure_criteria":"Enrichment produces no cross-references"}
{"record_type":"process_definition","process_id":"proc_guideline_generation","name":"Guideline Generation","description":"Full pipeline from metadata to enhanced guideline","trigger_type":"user_action","trigger_source":"frontend_app","success_criteria":"Enhanced guideline document created","failure_criteria":"Any pipeline step fails"}
{"record_type":"process_definition","process_id":"proc_extraction_evaluation","name":"Extraction Evaluation","description":"Run 4-profile extraction test with LLM evaluation","trigger_type":"user_action","trigger_source":"observability_runner","success_criteria":"All 4 aggregates created and LLMs evaluate","failure_criteria":"Profile extraction fails or LLM calls error"}
{"record_type":"event","event_type":"PipelineStarted","trace_id":"trc_a2e67c50d91449c8","pipeline":"comprehensive_extraction_evaluation","timestamp":"2025-11-30T04:25:45.983Z"}
{"record_type":"event","event_type":"PhaseStarted","trace_id":"trc_a2e67c50d91449c8","phase":"extraction","timestamp":"2025-11-30T04:25:45.983Z"}
